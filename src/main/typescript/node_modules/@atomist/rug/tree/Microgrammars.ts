
type MicroMatcher = { kind: string } | String

let Or = function (alternatives: MicroMatcher[]): MicroMatcher {
    let or = {
        kind: "or",
        components: alternatives
    };
    return or;
};

let Regex = function (javaStyleRegex: string): MicroMatcher {
    let regex = { kind: "regex", regularExpression: javaStyleRegex };
    return regex;
}

let Repeat = function (what: MicroMatcher): MicroMatcher {
    let repeat = {
        kind: "repeat",
        what: what
    };
    return repeat;
}

let Optional = function (what: MicroMatcher): MicroMatcher {
    let opt = {
        kind: "optional",
        what: what
    };
    return opt;
}

export { MicroMatcher, Or, Regex, Repeat, Optional }